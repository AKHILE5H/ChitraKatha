{"ast":null,"code":"var _jsxFileName = \"E:\\\\Downloads\\\\pinturillo-master\\\\client\\\\src\\\\components\\\\board\\\\Board.jsx\";\nimport React from 'react';\nimport io from 'socket.io-client';\nimport './style.css';\nclass Board extends React.Component {\n  constructor(props) {\n    super(props);\n    //variable for \n    this.socket = io.connect(\"http://localhost:5000\");\n    this.isDrawing = false;\n    this.socket.on(\"canvas-data\", function (data) {\n      var root = this;\n      var interval = setInterval(function () {\n        if (root.isDrawing) return;\n        root.isDrawing = true;\n        clearInterval(interval);\n        var image = new Image();\n        var canvas = document.querySelector('#board');\n        var ctx = canvas.getContext('2d');\n        image.onload = function () {\n          ctx.drawImage(image, 0, 0);\n          root.isDrawing = false;\n        };\n        image.src = data;\n      }, 200);\n    });\n  }\n  componentDidMount() {\n    this.drawOnCanvas();\n  }\n  componentWillReceiveProps(newProps) {\n    this.ctx.strokeStyle = newProps.color;\n    this.ctx.lineWidth = newProps.size;\n  }\n  drawOnCanvas() {\n    var canvas = document.querySelector('#board');\n    this.ctx = canvas.getContext('2d');\n    var ctx = this.ctx;\n    var sketch = document.querySelector('#sketch');\n    var sketch_style = getComputedStyle(sketch);\n    canvas.width = parseInt(sketch_style.getPropertyValue('width'));\n    canvas.height = parseInt(sketch_style.getPropertyValue('height'));\n    var mouse = {\n      x: 0,\n      y: 0\n    };\n    var last_mouse = {\n      x: 0,\n      y: 0\n    };\n\n    /* Mouse Capturing Work */\n    canvas.addEventListener('mousemove', function (e) {\n      last_mouse.x = mouse.x;\n      last_mouse.y = mouse.y;\n      mouse.x = e.pageX - this.offsetLeft;\n      mouse.y = e.pageY - this.offsetTop;\n    }, false);\n\n    /* Drawing on Paint App */\n    ctx.lineWidth = this.props.size;\n    ctx.lineJoin = 'round';\n    ctx.lineCap = 'round';\n    ctx.strokeStyle = this.props.color;\n    canvas.addEventListener('mousedown', function (e) {\n      canvas.addEventListener('mousemove', onPaint, false);\n    }, false);\n    canvas.addEventListener('mouseup', function () {\n      canvas.removeEventListener('mousemove', onPaint, false);\n    }, false);\n    var root = this;\n    var onPaint = function () {\n      ctx.beginPath();\n      ctx.moveTo(last_mouse.x, last_mouse.y);\n      ctx.lineTo(mouse.x, mouse.y);\n      ctx.closePath();\n      ctx.stroke();\n      if (root.timeout !== undefined) clearTimeout(root.timeout);\n      root.timeout = setTimeout(function () {\n        var base64ImageData = canvas.toDataURL(\"image/png\");\n        root.socket.emit(\"canvas-data\", base64ImageData);\n      }, 1000);\n    };\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sketch\",\n      id: \"sketch\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"canvas\", {\n      className: \"board\",\n      id: \"board\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 17\n      }\n    }));\n  }\n}\nexport default Board;","map":{"version":3,"names":["React","io","Board","Component","constructor","props","socket","connect","isDrawing","on","data","root","interval","setInterval","clearInterval","image","Image","canvas","document","querySelector","ctx","getContext","onload","drawImage","src","componentDidMount","drawOnCanvas","componentWillReceiveProps","newProps","strokeStyle","color","lineWidth","size","sketch","sketch_style","getComputedStyle","width","parseInt","getPropertyValue","height","mouse","x","y","last_mouse","addEventListener","e","pageX","offsetLeft","pageY","offsetTop","lineJoin","lineCap","onPaint","removeEventListener","beginPath","moveTo","lineTo","closePath","stroke","timeout","undefined","clearTimeout","setTimeout","base64ImageData","toDataURL","emit","render","createElement","className","id","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["E:/Downloads/pinturillo-master/client/src/components/board/Board.jsx"],"sourcesContent":["import React from 'react';\nimport io from 'socket.io-client';\n\nimport './style.css';\n\nclass Board extends React.Component {\n\n    timeout;   //variable for \n    socket = io.connect(\"http://localhost:5000\");\n\n    ctx;\n    isDrawing = false;\n\n    constructor(props) {\n        super(props);\n\n        this.socket.on(\"canvas-data\", function(data){\n\n            var root = this;\n            var interval = setInterval(function(){\n                if(root.isDrawing) return;\n                root.isDrawing = true;\n                clearInterval(interval);\n                var image = new Image();\n                var canvas = document.querySelector('#board');\n                var ctx = canvas.getContext('2d');\n                image.onload = function() {\n                    ctx.drawImage(image, 0, 0);\n\n                    root.isDrawing = false;\n                };\n                image.src = data;\n            }, 200)\n        })\n    }\n\n    componentDidMount() {\n        this.drawOnCanvas();\n    }\n\n    componentWillReceiveProps(newProps) {\n        this.ctx.strokeStyle = newProps.color;\n        this.ctx.lineWidth = newProps.size;\n    }\n\n    drawOnCanvas() {\n        var canvas = document.querySelector('#board');\n        this.ctx = canvas.getContext('2d');\n        var ctx = this.ctx;\n\n        var sketch = document.querySelector('#sketch');\n        var sketch_style = getComputedStyle(sketch);\n        canvas.width = parseInt(sketch_style.getPropertyValue('width'));\n        canvas.height = parseInt(sketch_style.getPropertyValue('height'));\n\n        var mouse = {x: 0, y: 0};\n        var last_mouse = {x: 0, y: 0};\n\n        /* Mouse Capturing Work */\n        canvas.addEventListener('mousemove', function(e) {\n            last_mouse.x = mouse.x;\n            last_mouse.y = mouse.y;\n\n            mouse.x = e.pageX - this.offsetLeft;\n            mouse.y = e.pageY - this.offsetTop;\n        }, false);\n\n\n        /* Drawing on Paint App */\n        ctx.lineWidth = this.props.size;\n        ctx.lineJoin = 'round';\n        ctx.lineCap = 'round';\n        ctx.strokeStyle = this.props.color;\n\n        canvas.addEventListener('mousedown', function(e) {\n            canvas.addEventListener('mousemove', onPaint, false);\n        }, false);\n\n        canvas.addEventListener('mouseup', function() {\n            canvas.removeEventListener('mousemove', onPaint, false);\n        }, false);\n\n        var root = this;\n        var onPaint = function() {\n            ctx.beginPath();\n            ctx.moveTo(last_mouse.x, last_mouse.y);\n            ctx.lineTo(mouse.x, mouse.y);\n            ctx.closePath();\n            ctx.stroke();\n\n            if(root.timeout !== undefined) clearTimeout(root.timeout);\n            root.timeout = setTimeout(function(){\n                var base64ImageData = canvas.toDataURL(\"image/png\");\n                root.socket.emit(\"canvas-data\", base64ImageData);\n            }, 1000)\n        };\n    }\n\n    render() {\n        return (\n            <div className=\"sketch\" id=\"sketch\">\n                <canvas className=\"board\" id=\"board\"></canvas>\n            </div>\n        )\n    }\n}\n\nexport default Board"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}